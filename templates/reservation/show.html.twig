{% extends 'base.html.twig' %}

{% block title %}Reservation
{% endblock %}

{% block body %}
	<div class="d-flex justify-content-between">
		<h1 class="d-inline-block">Reservation</h1>
		<a class="btn btn-light align-self-center" href="{{ path('app_reservation_index') }}">Retour</a>
	</div>

	<table class="table">
		<tbody>
			<tr>
				<th>N°</th>
				<td>{{ reservation.id }}</td>
			</tr>
			<tr>
				<th>Utilisateur</th>
				<td>{{ reservation.user.email }}</td>
			</tr>
			<tr>
				<th>Date de réservation</th>
				<td>{{ reservation.dateBegin ? reservation.dateBegin|date('d/m/Y') : '' }}</td>
			</tr>
			<tr>
				<th>Livres réservés</th>
				<td>
					{% for book in reservation.books %}
						{{ book.id }} - {{ book.name }}, {{ book.author }}<br/>
					{% endfor %}
				</td>
			</tr>
		</tbody>
	</table>


	{% if is_granted('ROLE_ADMIN') %}
		<a class="btn btn-primary" href="{{ path('app_reservation_edit', {'id': reservation.id}) }}">Modifier</a>

		{{ include('reservation/_delete_form.html.twig') }}
	{% endif %}
{% endblock %}
